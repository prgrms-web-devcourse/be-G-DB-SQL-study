# 📌 4장. 데이터의 추가, 삭제, 갱신

## # 행 추가하기 - insert
> 데이터를 추가하는 방법, 테이블에 행을 추가하는 방법 
```sql
INSERT INTO 테이블명 VALUES(값1, 값2, ...)
```
데이터를 추가할 경우 클라이언트에서 서버로 데이터를 전송하는 형식을 취하며, 서버 측은 전송받은 데이터를 데이터베이스에 저장

### # 값을 지정할 열 지정하기
```sql
INSERT INTO 테이블명(열1, 열2, ...) VALUES(값1, 값2, ...)
```
- 열을 지정할 경우 테이블 명 뒤에 괄호로 묶어 열명을 나열하고 VALUES 구로 값 지정 
- VALUES 구에 값을 지정할 경우 지정한 열과 동일한 개수로 값을 지정

<br/>

### # NOT NULL 제약
- 행을 추가할 때 유효한 값이 없는 상태(NULL)로 두고 싶을 경우 VALUES 구에서 NULL로 값을 지정할 수 있다
- 그러나 `NOT NULL` 제약이 걸려있는 열은 NULL 값을 허용하지 않는다

<br/>

### # DEFAULT 
- 명시적으로 값을 지정하지 않았을 경우 사용하는 초깃값
- 열을 지정해 행을 추가할 때 지정하지 않은 열을 Default 값을 사용하여 저장!
- 명시적으로 디폴트 지정 : ~~~ `VALUES(값1, DEFAULT)`
- 암묵적으로 디폴트 저장 : 열을 지정하지 않으면 디폴트 값으로 행 추가

<br/>

---

## # 삭제하기 - DELETE
> 데이터를 삭제하는 방법, 테이블에서 행을 삭제하는 방법
```sql
DELETE FROM 테이블명  -- 모든 데이터 삭제
DELETE FROM 테이블명 WHERE 조건식 -- 조건식에 해당되는 데이터만 삭제 
```
\* MySQL에서는 DELETE 명령에서 ORDER BY 구와 LIMIT 구를 사용해 삭제할 행을 지정할 수 있음

<br/>

---

## # 데이터 갱신하기 - UPDATE
> 데이터를 갱신하는 방법, 테이블의 셀에 저장되어 있는 값을 갱신하는 방법
```sql
UPDATE 테이블명 SET 열1 = 값1, 얄2 = 값2, ... WHERE 조건식
```
- SET 구를 사용하여 갱신할 열과 값을 지정
- UPDATE 명령에서는 WHERE 조건에 일치하는 '모든 행'이 갱신된다
- 필요에 따라 콤마(,)로 구분하여 갱신할 열을 여러 개 지정할 수 있다
- MySQL의 경우, 갱신식 안에서 열을 참조할 때는 처리 순서를 고려할 필요가 있다
- NULL 로 갱신하기(NULL로 초기화) 단, NOT NULL 제약이 설정되어 있는 열 제외

<br/>

---

## # 물리삭제와 논리삭제
> 데이터 삭제 방법에는 '물리 삭제'와 '논리 삭제' 두 가지 방식

- `물리삭제` : SQL의 DELETE 명령을 사용해 직접 데이터를 삭제하자는 사고 방식
- `논리삭제` : 테이블에 **'삭제플래그'**와 같은 열을 미리 준비해두고, 테이블에서 실제로 행을 삭제하는 대신 UPDATE 명령을 이용해 '삭제플래그'의 값을 유효하게 갱싱해두자는 사고 방식
- 논리삭제의 장단점
    - 장점 : 데이터를 삭제하지 않기 때문에 삭제되기 전의 상태로 간단히 되돌릴 수 있다는 점
    - 단점
        - 삭제해도 데이터베이스의 저장공간이 늘어나지 않는다는 점
        - 데이터베이스의 크기가 증가함에 따라 검색속도가 떨어지는 점
- 물리삭제와 논리삭제는 용도에 맞게 선택하자! 