# 2장. 테이블에서 데이터 검색 

## # SELECT 명령
> SELECT 명령으로 데이터베이스의 테이즐에서 데이터를 읽어올 수 있다.
```sql
select * from 테이블 명;
```

- `*` 는 모든 열을 의미하는 메타 문자
- 예약어와 데이터베이스 객체명은 대소문자를 구별하지 않는다.
- 테이블은 행(레코드)과 열(컬럼/필드)로 구성된 표 형식의 데이터❗️
- 데이터는 자료형으로 분류할 수 있으며, 열은 하나의 자료형만 가질 수 있다.
- `NULL` : NULL 이라는 데이터가 저장되어 있는 것이 아닌, 아무것도 저장되어 있지 않은 상태

<br/>

---

## # 테이블 구조 참조하기
> DESC 명령으로 테이블 구조를 참조할 수 있다.
```sql
DESC 테이블 명;
```
→ DESC 명령으로 테이블에 어떤 열이 정의되어 있는 지 알 수 있다.

<br/>

### # 자료형 중에서...
- CHAR 형 vs. VARCHAR 형
    - 'CHAR 형' 은 문자열형의 하나로 문자열을 저장할 수 있는 자료형 / **고정 길이 문자열**
    - 'VARCHAR 형' 은 저징힐 문자열의 길이에 맞춰 저장공간을 가변적으로 사용하여 저장 / **가변 길이 문자열**

<br/>

---

## # 검색 조건 지정하기
> 데이터 검색에는 열을 지정하는 방법 & 행을 지정하는 방법 
```sql
SELECT 열1, 열2 FROM 테이블명 WHERE 조건식;
```
- 행을 선택할 때 WHERE 구를 사용하며, 열을 선택할 때는 SELECT 구를 사용

<br/>

### # SELECT 구에서 열 지정하기
```sql
SELECT 열1, 열2 FROM 테이블명...
```

- SELECT 구에서 결과로 표시하고 싶은 열을 지정할 수 있다.
- 열은 위의 구문처럼 콤마(,)를 이용하여 구분 지으며 여러 개를 지정할 수 있다.
- 열을 전혀 지정하지 않거나 테이블에 존재하지 않는 열을 지정하면 에러 발생 

<br/>

### # WHERE구에서 행 지정하기
```sql
SELECT 열 FROM 테이블명 WHERE 조건식
```

- 많은 행 속에서 필요한 데이터만 검색하기 위해서 WHERE 구 사용한다.
- 조건식은 '열과 연산자, 상수로 구성되는 식' 으로, 이 조건에 일치하는 행만 결과로 반환된다.
- 조건식은 참 또는 거짓의 진리값을 반환하는 식으로 **비교 연산자**를 사용하여 표현한다.
    - `<>` : 값이 서로 다른 경우 참 (`!=`)
    - `=` : 값이 서로 같을 경우 참
- NULL 값 검색할 경우 
    - 필드명 `IS NULL` (↔️ `IS NOT NULL`)

<br/>

---

## # AND, OR, NOT
> 조건식은 AND, OR, NOT의 논리 연산자로 조건을 조합할 수 있다.

```sql
조건식1 AND 조건식2
조건식1 OR 조건식2
NOT 조건식
````

### # AND 로 조합하기
- 모든 조건을 만족하는 경우 조건식은 참 → `AND`  (및, 교집합)
- ex) 테이블 'TEST' 에서 a열과 b열이 모두 0이 아닌 행을 검색
    - ```sql
        SELECT * FROM TEST WHERE a <> 0 AND b<> 0;
      ```
<br/>

### # OR 로 조합하기
- 어느 쪽이든 하나만 참이 되면 조건식은 참 → `OR`  (또는, 합집합)
- ex) 테이블 'TEST' 에서 a열이 0이 아니거나 b열이 0이 아닌 행을 검색
    - ```sql
        SELECT * FROM TEST WHERE a <> 0 OR b<> 0;
      ```

<br/>

### # AND와 OR를 조합하기
- `OR`보다 `AND` 연산자 우선순위가 높다
- ex) 테이블 'TEST' 에서 a열이 0이 아니거나 b열이 0이 아닌 행을 검색해라
    - ```sql
        SELECT * FROM TEST WHERE a <> 0 AND b<> 0; 에서

        SELECT * FROM TEST WHERE a=1 OR a=2 AND b=1 OR b=2; 으로 변경하면 

        (a=2 AND b=1 이 먼저 계산이 됨)

        SELECT * FROM TEST WHERE (a=1 OR a=2) AND (b=1 OR b=2); 괄호로 우선순위 변경
      ```

<br/>

### # NOT으로 조합
- 오른쪽에만 항목을 지정하는 '단항 연산자'
- ex) 테이블 'TEST' 에서 a열이 0이 아니거나 b열이 0이 아닌 행을 제외한 나머지 행 검색
    - ```sql
        SELECT * FROM TEST WHERE NOT(a <> 0 AND b<> 0);
      ```

<br/>

---

<br/>

## # 패턴매칭에 의한 검색
> LIKE 술어를 사용하여 문자열의 일부분을 비교하는 '부분 검색'을 할 수 있다.

- '=' 연산자로 검색하는 경우는 셀의 데이터 값이 완전히 동일한지를 비교
- '특정 문자나 문자열이 포함되어 있는지를 검색하고 싶은 경우' → 패턴 매칭 / 부분 검색

<br/>

### # LIKE로 퍠턴 매칭하기
```sql
필드명(열) LIKE '패턴'
````

- 왼쪽에는 **매칭 대상**, 오른쪽에는 **메타문자 + 문자열**
- 메타문자 : '임의의 문자 또는 문자열'에서 매치하는 부분을 지정하기 위해 쓰이는 특수문자 
    - 퍼센트(%) : 임의의 문자열
    - 언더스코어(_) : 임의의 문자 하나 


```sql
-- 특정 문자로 시작하는 데이터 검색
WHERE [필드명] LIKE '특정 문자열%';

-- 특정 문자로 끝하는 데이터 검색
WHERE [필드명] LIKE '%특정 문자열';

-- 특정 문자를 포함하는 데이터 검색
WHERE [필드명] LIKE '%특정 문자열%';
```

<br/>

- `%`를 LIKE로 검색할 경우 `\%` → \% 로 !! 
- `_`를 LIKE로 검색할 경우 `\_` → \_ 로 !!
- `'`을 문자열 상수 안에 포함할 경우 `''` 2개 연속 


